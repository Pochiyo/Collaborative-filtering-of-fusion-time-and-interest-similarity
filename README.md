# Collaborative-filtering-of-fusion-time-and-interest-similarity
In order to improve the recommendation accuracy of the traditional collaborative filtering model, a collaborative filtering model combining time weight and interest similarity is proposed. The time weight takes into account the dependence of the user's viewing preference changes on time, and the similarity of interest is used to improve the prediction accuracy of the model.

### Model description
In most current collaborative filtering recommendation algorithms, the similarity [10] between users or resources is mainly calculated, and the dynamic changes of user interests are ignored. But in real life, users will find great changes in hobbies at different times. At this point, the existing recommendation system cannot reflect the process of user interest changes in a timely manner. Once the interest of the user changes, the personalized resources or marketing programs recommended may largely deviate from the user's essential needs. Therefore, this project proposes two forms of data weighting. One is weighting based on time weights, and the other is weighting based on similarity of interests. In addition, the weighted forms of these two kinds of data are merged into the traditional collaborative filtering algorithm according to a certain proportion to solve the shortcomings of traditional collaborative filtering algorithms.
4.2.1 Time-Based Data Weighting
Since the existing collaborative filtering in the calculation recommendation process, each user accessing the resource is treated equally, it is obviously unreasonable. Under normal circumstances, when a user visits a recent television program, the interest is relatively large. At this time, it plays a more important role in recommending the user's personalized resources. Otherwise, the user has previously visited the television. The impact of product recommendations is relatively small. This is because the interests of users are changing. With the passage of time, the resources and interests of users in recent visits are relatively stable. Therefore, a resource that a user is most interested in is most likely to visit him recently. The resources are similar. Therefore, this project introduces data weights based on user access time to increase the importance of recently accessed data in the recommendation generation process.
This project defines the time-based data weighting [11] as follows, as shown in Equation 4-2.
                        (4-2)
Among them, the time interval between the user's access to the resource and the user's earliest access to a resource, which represents the time span of the user's use of the recommended system, that is, the time between the user's earliest access to a resource and the most recent visit to a resource. Called the weight growth index, the value of the change can adjust the speed of the weight change with access time. The faster the weight increases, the larger the size of the weight can affect the performance of the algorithm.
4.2.2 Data Weighting Based on Similarity Degree
In formula (4-2), the value of varies linearly with the interval of time the user accesses the resource. The weight of the user’s recent data access is always greater than that of the earlier data, thus highlighting the importance of recent data. In real life, different users have different speeds and laws of interest changes, and in addition, users often have repeated interests. Therefore, early access to resources is also important for users to generate personalized recommendations. If you simply use time-based data weights, and weaken the role of early resources in the recommendation system, it is very likely to have a negative impact on the effectiveness of recommendations. That is, the duration of the user's viewing can reflect the user's preference to a certain extent. To this end, the project proposes data weights based on similarity of interest, as shown in Equation 4-3.
                      (4-3)
Among them, it indicates the length of time the user watches the TV product and indicates the total duration of all TV products watched by the user. This is called the weight growth factor. The value in this project is 0.7.
4.2.3 Fusion of Time and Interest Similarity
The two data weighted metrics described earlier have their own advantages: 1) Data weights that highlight the time importance of recent data. 2) Data weight based on similarity of interest. It calculates the correlation between the duration of a TV resource visited by a user and the current interest of the user, avoids the valuable early data being ignored, and is suitable for dealing with the repeated existence of user interest. Therefore consider the fusion of the two weight functions using the formula (4-4).
              (4-4)
Among them,,,, and represent the proportions of the two weight values, respectively. By selecting the appropriate values, the two weighting methods are combined to further improve the accuracy of the recommendation algorithm.
4.2.4 similarity of time and interest similarity fusion
In order to improve the accuracy of the model, we choose the angle cosine of the vector to measure the similarity, calculate the similarity matrix of TV products, and measure the similarity of the cosine of the included angle as shown in formula (4-5). Assuming that the user's rating is considered as a vector in the dimension space and the score vectors of the two users are respectively and , the cosine similarity between them [12-13] is calculated as shown in formula (4-5):
                   (4-5)

Among them, , are the user and user's user's rating of the project.
Due to the differences in the evaluation scales of different users, the cosine similarity is improved by means of the average score of the items. Assuming that the user and the common scoring item set are represented by , the similarity between the user and the user is calculated as shown in formula (4-6).
                      (4-6)
Where , respectively represents the average rating of users and users on the evaluated items.
